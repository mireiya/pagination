$.fn.paginateCore=function(a){var e=parseInt(a.currentPage),i=parseInt(a.visiblePage),t=parseInt(a.maxPage),g=i/2,r=1,n=0,p='<div class="paging-wrapper"><ul class="paging noselect" data-p="'+e+'">';if(p+='<li id="page-back" data-p="prev-page">&lt </li>',t<10)for(n=1;n<=t;++n)p+='<li id="page-'+n+'" data-p="'+n+'">'+n+" </li>";else if(e<i){for(p+='<li id="page-'+r+'" data-p="'+r+'">'+r+" </li>",n=2;n<(t<i?t:i)+1;++n)p+='<li id="page-'+n+'" data-p="'+n+'">'+n+" </li>";p+='<li class="paging" style="margin-left: 25px;" id="page-'+t+'" data-p="'+t+'">'+t+"</li>"}else if(e>=i&&e<=t-i){for(p+='<li id="page-'+r+'" data-p="'+r+'" style="margin-right: 25px;">'+r+" </li>",n=e-g;n<e+i-g;++n)p+='<li id="page-'+n+'" data-p="'+n+'">'+n+" </li>";p+='<li id="page-'+t+'" data-p="'+t+'" style="margin-left: 25px;">'+t+"</li>"}else if(e>=t-i)for(p+='<li id="page-'+r+'" data-p="'+r+'" style="margin-right: 25px;">'+r+" </li>",n=t-i<e?t-i:e;n<=t;++n)p+='<li id="page-'+n+'" data-p="'+n+'"> '+n+"</li>";return p+='<li id="page-next" data-p="next-page"> &gt</li></a>',p+='<span class="goto-text">Go to: </span><input type="number" id="goto-page" name="cpage" onkeypress="return event.charCode >= 48 && event.charCode <= 57"/>',p+='<li id="page-goto" data-p="go-page" alt="Go to page" title="Go to page"> &gt&gt</li>',p+="</ul></div>",this.html(p),this},$.fn.paginate=function(a){var e,i=$(this);if(void 0===a.currentPage&&(a.currentPage=1),void 0===a.visiblePage&&(a.visiblePage=5),void 0===a.maxPage)throw new Error("maxPage is undefined!");$(this).paginateCore(a),$("#page-"+a.currentPage).addClass("active"),$("ul.paging li").click(function(){var t=$(this).data("p");if(t!==a.currentPage){if("prev-page"===t){if(a.currentPage<=1)return;$("ul.paging li").removeClass("active"),e=a.currentPage<=1?1:a.currentPage-1}else if("next-page"===t){if(a.currentPage>=a.maxPage)return;$("ul.paging li").removeClass("active"),e=a.currentPage>=a.maxPage?a.maxPage:a.currentPage+1}else if("go-page"===t){if(e=$("#goto-page").val(),e=parseInt(e),!e||e===a.currentPage)return;$("ul.paging li").removeClass("active"),e=e<=1?1:e>=a.maxPage?a.maxPage:e}else e=parseInt(t);a.currentPage=e,i.paginate(a),$("#page-"+a.currentPage).addClass("active")}}),$("#goto-page").unbind().keypress(function(e){var t=$(this).val();13===e.which&&t&&(a.currentPage=t<=1?1:t>=a.maxPage?a.maxPage:t,i.paginate(a))}),void 0!==a.onPageChange&&a.onPageChange(a.currentPage)};